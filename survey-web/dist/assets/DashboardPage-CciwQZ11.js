import{r as s,u as R,j as e,M as J}from"./index-pkM7sRJn.js";const L=()=>{const m="/api/v1",[U,r]=s.useState(!1),[h,c]=s.useState(!1),[u,x]=s.useState(""),[g,p]=s.useState(""),[b,j]=s.useState(!1),[i,f]=s.useState(""),[N,v]=s.useState(0),[y,w]=s.useState(0),[S,k]=s.useState(0),[C,T]=s.useState(0),n=R();s.useEffect(()=>{I()},[]);const I=async()=>{r(!0);try{const t=localStorage.getItem("token"),o=await fetch(`${m}/dashboard`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(o.status===401){const E=await o.json();f(E.detail),d("Th√¥ng b√°o","Phi√™n ƒëƒÉng nh·∫≠p ƒë√£ h·∫øt h·∫°n, vui l√≤ng ƒëƒÉng nh·∫≠p l·∫°i.",!0),r(!1);return}const a=await o.json();v(a.information),w(a.jobRecommend),k(a.user),T(a.job)}catch{d("L·ªói","C√≥ l·ªói x·∫£y ra khi t·∫£i d·ªØ li·ªáu.",!0)}finally{r(!1)}},d=(t,o,a)=>{x(t),p(o),j(a),c(!0)},M=()=>{c(!1),(i==="invalid_token"||i==="jwt_error")&&(localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("roles"),n("/"))},l=t=>new Intl.NumberFormat("en-US").format(t);return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ch√†o m·ª´ng b·∫°n tr·ªü l·∫°i üëã"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white shadow rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"T·ªïng ng∆∞·ªùi kh·∫£o s√°t"}),e.jsx("p",{className:"text-2xl font-bold",children:l(N)})]}),e.jsxs("div",{className:"bg-white shadow rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"K·∫øt qu·∫£ ƒë√£ g·ª£i √Ω"}),e.jsx("p",{className:"text-2xl font-bold",children:l(y)})]}),e.jsxs("div",{className:"bg-white shadow rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"T·ªïng t√†i kho·∫£n"}),e.jsx("p",{className:"text-2xl font-bold",children:l(S)})]}),e.jsxs("div",{className:"bg-white shadow rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"T·ªïng ngh·ªÅ nghi·ªáp"}),e.jsx("p",{className:"text-2xl font-bold",children:l(C)})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-6",children:[e.jsx("button",{onClick:()=>n("/survey-page"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700",children:"T·∫°o kh·∫£o s√°t m·ªõi"}),e.jsx("button",{onClick:()=>n("training-data"),className:"border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-100",children:"Xem t·∫•t c·∫£ k·∫øt qu·∫£"}),e.jsx("button",{onClick:()=>n("list-question"),className:"bg-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300",children:"Qu·∫£n l√Ω c√¢u h·ªèi"})]}),e.jsx(J,{isOpen:h,onClose:M,title:u,message:g,isError:b})]})};export{L as default};
